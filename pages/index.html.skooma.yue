import output from require 'params'
slots, json = select 1, ...
posts = require 'posts'

post = =>
	a href: "/"..output..@head.uri,
		* flexColumn
			* b @head.title
			* time is: 'local-date', datetime: @head.date, @head.date
			* @head.description

slots.head title "Index"
slots.head script type: 'module', src: "/#{output}/javascript/LocalDate.js"

return main
	* h1 "Blog Posts"
	* nav ul [li post p for p in *posts]
